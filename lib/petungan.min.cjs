"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e={BASE_JAWA:1555,BASE_GREGORIAN:1633,BASE_HIJRI:1043,INITIAL_DIFFERENCE:78,CYCLE_LENGTH:34,DIFFERENCE_DECAY:1,MIN_DIFFERENCE:1,HIJRI_OFFSET:512};function r(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Javanese year: must be an integer");const{BASE_JAWA:n,INITIAL_DIFFERENCE:a,CYCLE_LENGTH:t,DIFFERENCE_DECAY:o,MIN_DIFFERENCE:E}=e;if(r===n)return e.BASE_GREGORIAN;const i=r-n;let s;if(i>=0){s=a-Math.floor(i/t)*o}else{s=a+Math.ceil(-i/t)*o}return r+Math.max(s,E)}function n(n){if("number"!=typeof n||!Number.isInteger(n))throw new Error("Invalid Gregorian year: must be an integer");if(n===e.BASE_GREGORIAN)return e.BASE_JAWA;let a=n-e.INITIAL_DIFFERENCE,t=0;for(;t<10;){const e=r(a)-n;if(0===e)return a;if(a-=e,t++,Math.abs(e)>1e3)throw new Error(`Conversion failed for Gregorian year ${n}: error too large`)}return a}function a(r){const n=[];let a=r,t=e.INITIAL_DIFFERENCE;for(let r=0;r<78;r++)n.push({konstan:Math.max(t,e.MIN_DIFFERENCE),tahunAwal:a,tahunAkhir:a+e.CYCLE_LENGTH-1}),t=Math.max(t-e.DIFFERENCE_DECAY,e.MIN_DIFFERENCE),a+=e.CYCLE_LENGTH;return n}function t(){return a(e.BASE_JAWA)}function o(){return a(e.BASE_GREGORIAN)}function E(r,n){try{const r=n>=1e3&&n<=3e3,a=n>=1600&&n<=4e3;let t;if(r&&!a){const r=n-e.BASE_JAWA,a=Math.floor(Math.abs(r)/e.CYCLE_LENGTH);t=r>=0?e.INITIAL_DIFFERENCE-a:e.INITIAL_DIFFERENCE+a}else{const r=n-e.BASE_GREGORIAN,a=Math.floor(Math.abs(r)/e.CYCLE_LENGTH);t=r>=0?e.INITIAL_DIFFERENCE-a:e.INITIAL_DIFFERENCE+a}t=Math.max(t,e.MIN_DIFFERENCE);const o=r?e.BASE_JAWA:e.BASE_GREGORIAN,E=n-o,i=Math.floor(Math.abs(E)/e.CYCLE_LENGTH);let s,I;return E>=0?(s=o+i*e.CYCLE_LENGTH,I=s+e.CYCLE_LENGTH-1):(I=o-i*e.CYCLE_LENGTH-1,s=I-e.CYCLE_LENGTH+1),{konstan:t,tahunAwal:s,tahunAkhir:I}}catch(e){return null}}const i=e.HIJRI_OFFSET,s=e.BASE_JAWA,I=e.BASE_HIJRI;exports.JAVANESE_CALENDAR_CONSTANTS=e,exports.cariTahunReferensi=E,exports.konversiJawaMasehiDirect=r,exports.konversiMasehiJawaDirect=n,exports.konversiTahunHijriyahKeTahunJawa=function(e){if("number"!=typeof e||!Number.isInteger(e))throw new Error("Invalid Hijri year: must be an integer");return e<I?(console.warn(`Warning: Hijri year ${e} is before Javanese calendar correlation (${I}). Conversion may not be historically accurate.`),e):e+i},exports.konversiTahunJawaKeTahunHijriyah=function(e){if("number"!=typeof e||!Number.isInteger(e))throw new Error("Invalid Javanese year: must be an integer");return e<s?(console.warn(`Warning: Javanese year ${e} is before calendar standardization (${s}). Conversion may not be historically accurate.`),e):e-i},exports.konversiTahunJawaKeTahunMasehi=function(e){try{return r(e)}catch(r){console.warn(`Direct conversion failed for ${e}, falling back to legacy method:`,r.message);let a=(n=e,E(t(),n));if(!a)throw new Error(`Cannot convert Javanese year ${e}: outside supported range`);return e+a.konstan}var n},exports.konversiTahunMasehiKeTahunJawa=function(e){try{return n(e)}catch(n){console.warn(`Direct conversion failed for ${e}, falling back to legacy method:`,n.message);let a=(r=e,E(o(),r));if(!a)throw new Error(`Cannot convert Gregorian year ${e}: outside supported range`);return e-a.konstan}var r},exports.tabelKonstantaKonversiTahunJawa=t,exports.tabelKonstantaKonversiTahunMasehi=o;
