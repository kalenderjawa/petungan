var Petungan=function(r){"use strict";const e={BASE_JAWA:1555,BASE_GREGORIAN:1633,BASE_HIJRI:1043,INITIAL_DIFFERENCE:78,CYCLE_LENGTH:34,DIFFERENCE_DECAY:1,MIN_DIFFERENCE:1,HIJRI_OFFSET:512},n=1948439;function a(r,e,n){const a=Math.floor((14-e)/12),t=r+4800-a,o=e+12*a-3;return n+Math.floor((153*o+2)/5)+365*t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400)-32045}function t(r){const e=r+32044,n=Math.floor((4*e+3)/146097),a=e-Math.floor(146097*n/4),t=Math.floor((4*a+3)/1461),o=a-Math.floor(1461*t/4),i=Math.floor((5*o+2)/153),E=o-Math.floor((153*i+2)/5)+1,s=i+3-12*Math.floor(i/10);return{year:100*n+t-4800+Math.floor(i/10),month:s,day:E}}function o(r,e,a){return a+Math.ceil(29.5*(e-1))+354*(r-1)+Math.floor((3+11*r)/30)+n-1}function i(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Javanese year: must be an integer");const{BASE_JAWA:n,INITIAL_DIFFERENCE:a,CYCLE_LENGTH:t,DIFFERENCE_DECAY:o,MIN_DIFFERENCE:i}=e;if(r===n)return e.BASE_GREGORIAN;const E=r-n;let s;if(E>=0){s=a-Math.floor(E/t)*o}else{s=a+Math.ceil(-E/t)*o}return r+Math.max(s,i)}function E(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Gregorian year: must be an integer");if(r===e.BASE_GREGORIAN)return e.BASE_JAWA;let n=r-e.INITIAL_DIFFERENCE,a=0;for(;a<10;){const e=i(n)-r;if(0===e)return n;if(n-=e,a++,Math.abs(e)>1e3)throw new Error(`Conversion failed for Gregorian year ${r}: error too large`)}return n}function s(r){const n=[];let a=r,t=e.INITIAL_DIFFERENCE;for(let r=0;r<78;r++)n.push({konstan:Math.max(t,e.MIN_DIFFERENCE),tahunAwal:a,tahunAkhir:a+e.CYCLE_LENGTH-1}),t=Math.max(t-e.DIFFERENCE_DECAY,e.MIN_DIFFERENCE),a+=e.CYCLE_LENGTH;return n}function u(){return s(e.BASE_JAWA)}function I(){return s(e.BASE_GREGORIAN)}function h(r,n){try{const r=n>=1e3&&n<=3e3,a=n>=1600&&n<=4e3;let t;if(r&&!a){const r=n-e.BASE_JAWA,a=Math.floor(Math.abs(r)/e.CYCLE_LENGTH);t=r>=0?e.INITIAL_DIFFERENCE-a:e.INITIAL_DIFFERENCE+a}else{const r=n-e.BASE_GREGORIAN,a=Math.floor(Math.abs(r)/e.CYCLE_LENGTH);t=r>=0?e.INITIAL_DIFFERENCE-a:e.INITIAL_DIFFERENCE+a}t=Math.max(t,e.MIN_DIFFERENCE);const o=r?e.BASE_JAWA:e.BASE_GREGORIAN,i=n-o,E=Math.floor(Math.abs(i)/e.CYCLE_LENGTH);let s,u;return i>=0?(s=o+E*e.CYCLE_LENGTH,u=s+e.CYCLE_LENGTH-1):(u=o-E*e.CYCLE_LENGTH-1,s=u-e.CYCLE_LENGTH+1),{konstan:t,tahunAwal:s,tahunAkhir:u}}catch(r){return null}}const c=e.HIJRI_OFFSET,f=e.BASE_JAWA,l=e.BASE_HIJRI;return r.JAVANESE_CALENDAR_CONSTANTS=e,r.cariTahunReferensi=h,r.konversiJawaMasehiDirect=i,r.konversiJawaMasehiPrecise=function(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Javanese year: must be an integer");const{BASE_JAWA:n}=e;return r<n&&console.warn(`Warning: Javanese year ${r} is before calendar standardization (${n}). Conversion may not be historically accurate.`),t(o(r-e.HIJRI_OFFSET,1,1)).year},r.konversiMasehiJawaDirect=E,r.konversiMasehiJawaPrecise=function(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Gregorian year: must be an integer");const i=a(r,1,1),E=function(r){const e=r-n+1,a=Math.floor((30*e+10646)/10631),t=o(a,1,1),i=Math.min(12,Math.ceil((r-t+1)/29.5));return{year:a,month:i,day:r-o(a,i,1)+1}}(i).year;for(let n=-2;n<=2;n++){const a=E+n;if(t(o(a,1,1)).year===r)return a+e.HIJRI_OFFSET}const s=a(r,12,31);let u=E,I=Number.POSITIVE_INFINITY;for(let r=E-3;r<=E+3;r++){const e=o(r,1,1),n=Math.max(0,Math.min(Math.abs(e-i),Math.abs(e-s)));n<I&&(I=n,u=r)}return u+e.HIJRI_OFFSET},r.konversiTahunHijriyahKeTahunJawa=function(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Hijri year: must be an integer");return r<l?(console.warn(`Warning: Hijri year ${r} is before Javanese calendar correlation (${l}). Conversion may not be historically accurate.`),r):r+c},r.konversiTahunJawaKeTahunHijriyah=function(r){if("number"!=typeof r||!Number.isInteger(r))throw new Error("Invalid Javanese year: must be an integer");return r<f?(console.warn(`Warning: Javanese year ${r} is before calendar standardization (${f}). Conversion may not be historically accurate.`),r):r-c},r.konversiTahunJawaKeTahunMasehi=function(r){try{return i(r)}catch(n){console.warn(`Direct conversion failed for ${r}, falling back to legacy method:`,n.message);let a=(e=r,h(u(),e));if(!a)throw new Error(`Cannot convert Javanese year ${r}: outside supported range`);return r+a.konstan}var e},r.konversiTahunMasehiKeTahunJawa=function(r){try{return E(r)}catch(n){console.warn(`Direct conversion failed for ${r}, falling back to legacy method:`,n.message);let a=(e=r,h(I(),e));if(!a)throw new Error(`Cannot convert Gregorian year ${r}: outside supported range`);return r-a.konstan}var e},r.tabelKonstantaKonversiTahunJawa=u,r.tabelKonstantaKonversiTahunMasehi=I,Object.defineProperty(r,"__esModule",{value:!0}),r}({});
